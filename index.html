<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			(() => {
				function checkIfExtensionInstalled() {
					let hasExtension = false;
					let extensionId = 'oofmbcbcffcplfkpajnkinijlibhnnmk';

					chrome.runtime.sendMessage(extensionId, { message: 'installCheck' }, function (reply) {
						reply ? goToSite() : getExtension();
					});
				}

				function getExtension() {
					window.location.replace(
						'https://chrome.google.com/webstore/detail/rakuten-get-cash-back-for/chhjbpecpncaggjpdakmflnfcopglcmi'
					);
				}

				function goToSite() {
					window.location.replace('https://www.nike.com/login');
				}

				document.addEventListener('DOMContentLoaded', checkIfExtensionInstalled);
			})();
		</script>
	</body>
</html>
